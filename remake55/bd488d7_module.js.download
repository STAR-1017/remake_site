(window._ambjs=window._ambjs||[]).push([[221],{"0yE/":function(e,t,a){var i=a("St4g"),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},r=Object.defineProperty||function(e,t,a){e[t]=a.value};"string"==typeof i&&(i=[[e.i,i,""]]),e.exports=function(e){var t=n({},e.locals||{});return r(t,"_",{value:function(){return e}}),r(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(i)},"4CSI":function(e,t,a){var i=a("VeA3"),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},r=Object.defineProperty||function(e,t,a){e[t]=a.value};"string"==typeof i&&(i=[[e.i,i,""]]),e.exports=function(e){var t=n({},e.locals||{});return r(t,"_",{value:function(){return e}}),r(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(i)},"D+pS":function(e,t,a){var i=a("MdFc"),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},r=Object.defineProperty||function(e,t,a){e[t]=a.value};"string"==typeof i&&(i=[[e.i,i,""]]),e.exports=function(e){var t=n({},e.locals||{});return r(t,"_",{value:function(){return e}}),r(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(i)},MdFc:function(e,t,a){var i=a("Ai0b")(!1);i.push([e.i,'._2ZYrEI0j{margin-bottom:8px}._GuSXfu3l{position:relative}._1p9JWK3Q{color:#333;font-size:14px;letter-spacing:1px;line-height:1;text-align:left}._1HORCCfL,._1p9JWK3Q{margin-bottom:15px}._1HORCCfL{background-color:#fff;height:128px;letter-spacing:normal;overflow:hidden;position:relative}._3EjByQlK{left:125px;margin:0 auto;padding-left:0;position:absolute;top:0}._eR_2GN4S{display:inline-block;font-size:14px;letter-spacing:1px;line-height:1;margin-right:30px;transition:color .3s;vertical-align:top}._28y5aNSW{color:#333;cursor:pointer;text-decoration:none}._28y5aNSW:hover{color:#333;text-decoration:underline}._1cmi5HNf{color:#237b31;cursor:auto;font-weight:700;transition:color .3s}._1cmi5HNf:hover{color:#237b31;text-decoration:none}._3IcOhiQx{left:0;position:absolute;top:0;width:100%}._2T74a6i3{opacity:1;transition:opacity .8s linear}._2T74a6i3:after{content:" ";height:100%;left:0;position:absolute;top:0;width:100%}._2tlXIQ01{opacity:0}',""]),i.locals={Block:"_2ZYrEI0j",Heading:"_GuSXfu3l",Title:"_1p9JWK3Q",Content:"_1HORCCfL",TabList:"_3EjByQlK",TabListItem:"_eR_2GN4S",TabListTarget:"_28y5aNSW",TabListTarget__Active:"_1cmi5HNf",TabContent:"_3IcOhiQx",TabContent__Fade_exit:"_2T74a6i3",TabContent__Fade_exit_active:"_2tlXIQ01"},e.exports=i},St4g:function(e,t,a){var i=a("Ai0b")(!1);i.push([e.i,"._2dR1BFZx{background-color:#fff;line-height:0;margin:0;overflow:hidden}._3D_LrvBu{padding:19px 32px}._3nsjU6_i{color:#333;display:block;position:relative;text-decoration:none}._3nsjU6_i:hover{color:inherit;text-decoration:underline}._1ohsqvBZ{display:inline-block;vertical-align:top;width:70px}._1ohsqvBZ+._1ohsqvBZ{margin-left:24px}._yE2oIVnY{background-color:#ccc;color:#fff;display:block;font-size:10px;font-weight:700;height:16px;left:0;line-height:16px;position:absolute;text-align:center;top:0;width:16px}._2Yn13MJ1{background-color:#2d8c3c;width:32px}._12BhRNCi{background-color:#cea65c}._1754vsW6{background-color:#999}._12eBr4Gd{background-color:#b98353}._2ZLyGjdm{color:#333;font-size:12px;line-height:12px;margin-top:8px;overflow:hidden;text-align:center;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;width:70px}",""]),i.locals={Block:"_2dR1BFZx",Block__Official:"_3D_LrvBu",ListTarget:"_3nsjU6_i",ListItem:"_1ohsqvBZ",LabelRanking:"_yE2oIVnY",LabelRanking__Mvp:"_2Yn13MJ1",LabelRanking__No1:"_12BhRNCi",LabelRanking__No2:"_1754vsW6",LabelRanking__No3:"_12eBr4Gd",UserName:"_2ZLyGjdm"},e.exports=i},VeA3:function(e,t,a){var i=a("Ai0b"),n=a("XJQB"),r=i(!1);r.i(n,"",!0),r.push([e.i,"._32UZNyfW{background-color:#fff;overflow:hidden;padding:32px}._19pgJ4cr{padding:16px 32px 28px}._1TyEncXR{height:64px;line-height:1;margin:0 auto;padding-left:0}._3g555poE{color:#333;display:inline-block;vertical-align:top;width:172px}._3g555poE+._3g555poE{margin-left:14px}._KJz_zGxR{color:inherit;display:block;line-height:0}._1I-uUMLP{font-size:12px;line-height:12px;margin:0 auto 8px;text-align:left}._2N36ctn6{color:#2d8c3c!important;text-decoration:none}._9Fg_HBLq{display:inline-block;vertical-align:top}._2xfp7kdC{box-sizing:border-box;display:inline-block;font-size:12px;height:64px;overflow:hidden;padding-left:8px;width:108px;word-break:break-all}._25tdYj9g{background-color:#ccc;color:#fff;display:inline-block;font-size:10px;height:16px;line-height:16px;margin:0 8px 0 0;text-align:center;vertical-align:middle;width:16px}._2Vrl2aTL{background-color:#cea65c}._3Lz5rVvj{background-color:#999}._3yx8dV6v{background-color:#b98353}._2wvZekrF{color:#333;display:inline-block;line-height:16px;overflow:hidden;text-align:left;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap;width:76px}._Qd4EBIOA{color:#999;font-size:12px}._26vXuOe4{-webkit-box-orient:vertical;color:#333;display:-webkit-box;-webkit-line-clamp:2;line-height:17px;overflow:hidden;padding-top:4px;text-align:left;text-overflow:ellipsis;width:100px;word-break:break-all}",""]),r.locals={Block:"_32UZNyfW",Block__Official:"_19pgJ4cr",List:"_1TyEncXR",ListItem:"_3g555poE",ListTarget:"_KJz_zGxR",Title:"_1I-uUMLP",TitleTarget:"_2N36ctn6",ContentThumbnail:"_9Fg_HBLq "+n.locals.Block,ContentBlock:"_2xfp7kdC",LabelRanking:"_25tdYj9g",LabelRanking__No1:"_2Vrl2aTL",LabelRanking__No2:"_3Lz5rVvj",LabelRanking__No3:"_3yx8dV6v",UserName:"_2wvZekrF",UserNameEmpty:"_Qd4EBIOA",BlogTitle:"_26vXuOe4"},e.exports=r},WYIx:function(e,t,a){var i=a("t2UV"),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},r=Object.defineProperty||function(e,t,a){e[t]=a.value};"string"==typeof i&&(i=[[e.i,i,""]]),e.exports=function(e){var t=n({},e.locals||{});return r(t,"_",{value:function(){return e}}),r(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(i)},t2UV:function(e,t,a){var i=a("Ai0b"),n=a("XJQB"),r=i(!1);r.i(n,"",!0),r.push([e.i,"._1IE1FPx_{background-color:#fff;line-height:0;margin:0;overflow:hidden}._e5TaUwot{padding:16px 32px 28px}._lCHAensf{font-size:12px;line-height:12px;margin-bottom:8px}._1wFx6T-a{color:#2d8c3c!important;text-decoration:none}._1-C973P5{height:64px;line-height:1;margin:0 auto;padding-left:0}._201EMVfc{display:inline-block;vertical-align:top;width:172px}._201EMVfc+._201EMVfc{margin-left:14px}._3-Kcd2nC{display:block;line-height:0}._1nFJJnVE{display:inline-block;vertical-align:top}._hDBOxwTW{box-sizing:border-box;display:inline-block;font-size:12px;height:64px;overflow:hidden;padding-left:8px;width:108px;word-break:break-all}._dcuuoQyU{background-color:#ccc;color:#fff;display:inline-block;font-size:10px;height:16px;line-height:16px;margin:0 8px 0 0;text-align:center;vertical-align:middle;width:16px}._32K0fsYe{background-color:#cea65c}._3gzk7pNH{background-color:#999}._1-MVWixB{background-color:#b98353}._ssbqV16U{display:inline-block;line-height:16px;vertical-align:middle;white-space:nowrap;width:76px}._3uhHHzi7,._ssbqV16U{color:#333;overflow:hidden;text-overflow:ellipsis}._3uhHHzi7{-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:2;line-height:17px;padding-top:4px;width:100px;word-break:break-all}",""]),r.locals={Block:"_1IE1FPx_",Block__Topblogger:"_e5TaUwot",Title:"_lCHAensf",TitleTarget:"_1wFx6T-a",List:"_1-C973P5",ListItem:"_201EMVfc",ListTarget:"_3-Kcd2nC",ContentThumbnail:"_1nFJJnVE "+n.locals.Block,ContentBlock:"_hDBOxwTW",LabelRanking:"_dcuuoQyU",LabelRanking__No1:"_32K0fsYe",LabelRanking__No2:"_3gzk7pNH",LabelRanking__No3:"_1-MVWixB",UserName:"_ssbqV16U",BlogTitle:"_3uhHHzi7"},e.exports=r},"wl/X":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Pe}));var i=a("5n0U"),n=a("eijD"),r=(a("W0B4"),a("mXGw")),o=a.n(r),c=a("edSL"),l=a.n(c),s=a("YFs1"),p=a.n(s),g=a("/gfI"),d=a.n(g),f=a("/m4v"),b=a("xfIn"),u=a("teyX"),h=a("9CQN");var _=a("9zqp"),k=a("ZPcf");function v(e,t){var a=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){a[e.key]=function(e){return t&&Object(r.isValidElement)(e)?t(e):e}(e)})),a}function y(e,t,a){return null!=a[t]?a[t]:e.props[t]}function m(e,t){return v(e.children,(function(a){return Object(r.cloneElement)(a,{onExited:t.bind(null,a),in:!0,appear:y(a,"appear",e),enter:y(a,"enter",e),exit:y(a,"exit",e)})}))}function O(e,t,a){var i=v(e.children),n=function(e,t){function a(a){return a in t?t[a]:e[a]}e=e||{},t=t||{};var i,n=Object.create(null),r=[];for(var o in e)o in t?r.length&&(n[o]=r,r=[]):r.push(o);var c={};for(var l in t){if(n[l])for(i=0;i<n[l].length;i++){var s=n[l][i];c[n[l][i]]=a(s)}c[l]=a(l)}for(i=0;i<r.length;i++)c[r[i]]=a(r[i]);return c}(t,i);return Object.keys(n).forEach((function(o){var c=n[o];if(Object(r.isValidElement)(c)){var l=o in t,s=o in i,p=t[o],g=Object(r.isValidElement)(p)&&!p.props.in;!s||l&&!g?s||!l||g?s&&l&&Object(r.isValidElement)(p)&&(n[o]=Object(r.cloneElement)(c,{onExited:a.bind(null,c),in:p.props.in,exit:y(c,"exit",e),enter:y(c,"enter",e)})):n[o]=Object(r.cloneElement)(c,{in:!1}):n[o]=Object(r.cloneElement)(c,{onExited:a.bind(null,c),in:!0,exit:y(c,"exit",e),enter:y(c,"enter",e)})}})),n}var T=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},x=function(e){function t(t,a){var i,n=(i=e.call(this,t,a)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i));return i.state={contextValue:{isMounting:!0},handleExited:n,firstRender:!0},i}Object(_.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var a=t.children,i=t.handleExited;return{children:t.firstRender?m(e,i):O(e,a,i),firstRender:!1}},a.handleExited=function(e,t){var a=v(this.props.children);e.key in a||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var a=Object(h.a)({},t.children);return delete a[e.key],{children:a}})))},a.render=function(){var e=this.props,t=e.component,a=e.childFactory,i=Object(u.a)(e,["component","childFactory"]),n=this.state.contextValue,r=T(this.state.children).map(a);return delete i.appear,delete i.enter,delete i.exit,null===t?o.a.createElement(k.a.Provider,{value:n},r):o.a.createElement(k.a.Provider,{value:n},o.a.createElement(t,i,r))},t}(o.a.Component);x.propTypes={},x.defaultProps={component:"div",childFactory:function(e){return e}};var j=x,L=a("6cnl"),w=a("8Jek"),N=a.n(w),I=a("1IY1"),B=a("X9kr"),R=a("tDZY"),S=a("SblK"),C=a("wTO3"),E=a("AFru"),A=a("horx");var P=Object(C.b)(()=>function(){var e=Object(n.a)((function*(e,t){if(l()(t(),["rankingTopbloggerState","dailyRanking"],null))return null;try{var a=yield E.d.getTopbloggerRanking();return e(function(e){return{type:A.b,payload:{data:e}}}(yield a.json()))}catch(i){return e(function(e){return{type:A.a,payload:{error:e}}}(i))}}));return function(t,a){return e.apply(this,arguments)}}()),F=a("/b83"),M=a("mK0O"),U="init",H=a("N7Nw"),V=a("0XMx");function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W,G,Z,J,Q,Y,X,K,q,$,ee,te,ae=(e,t,a)=>({type:V.b,payload:{genreCode:e,data:t,summary:a}}),ie=Object(C.b)((e,t,a)=>function(){var i=Object(n.a)((function*(i,r,o){var{fetchr:c}=o,s=r().genreRankingState.genreRankingBlogMap[e]||{};if(!p()(s))return null;try{var g=yield c.read("genreRankingBlog").params({genreCode:e,limit:t}).end().catch(e=>{throw"undefined"!=typeof window&&window.handleErrorBySentry&&window.handleErrorBySentry(e),e}),{data:d}=g;if(a!==U)return i(ae(e,d.data,d.summary));var f=d.data,b=yield Promise.all(f.map(function(){var e=Object(n.a)((function*(e){var t=e.ameba_id;if(yield i(Object(R.b)(t)),!l()(r(),["bloggerState","bloggerMap",t,"blog"],""))return{};var a=yield c.read("blogLatestEntry").params({amebaId:t}).end();if(!a.data)return{ameba_id:t};var n=a.data;return z(z({},e),{},{entry_id:n.entry_id})}));return function(t){return e.apply(this,arguments)}}())).catch(e=>{throw"undefined"!=typeof window&&window.handleErrorBySentry&&window.handleErrorBySentry(e),e});return i(ae(e,b,d.summary))}catch(u){return i(((e,t)=>({type:V.a,payload:{genreCode:e,error:t},error:!0}))(e,u))}}));return function(e,t,a){return i.apply(this,arguments)}}()),ne=(Object(C.b)((e,t)=>function(){var a=Object(n.a)((function*(a,i){var r=l()(i(),["genreRankingState","genreRankingBlogMap",e],[]);if(t===U&&p()(r))return null;try{var o=l()(i(),["genreRankingState","genreRankingOverallEntryMap",e],[]),c=(yield Promise.all(r.map(function(){var e=Object(n.a)((function*(e){var{ameba_id:n,entry_id:r,rank:c}=e;if(t===U&&c>3)return{};var s=l()(i(),["bloggerState","bloggerMap",n],{}),g=l()(i(),["bloggerState","blogMap",s.blog],{});if(p()(s)||p()(g))return{};var d=o.some(e=>e.ameba_id===n),f=g.blog_id;f&&r&&!d&&(yield a(Object(H.a)(f,r)));var b=l()(i(),["entryState","entryMap",r],{});return p()(b)||!b.entry_id?z(z({},e),{},{is_official:s.attribute.isOfficial,blog_title:g.blog_title,profile_image:s.profile.image_filepath}):z(z(z({},e),{},{is_official:s.attribute.isOfficial},b.image_url?{image_url:b.image_url}:{}),{},{entry_title:b.entry_title})}));return function(t){return e.apply(this,arguments)}}()))).filter(e=>!p()(e));return a(((e,t)=>({type:V.d,payload:{genreCode:e,entryList:t}}))(e,c))}catch(s){return a((e=>({type:V.c,payload:{error:e},error:!0}))(s))}}));return function(e,t){return a.apply(this,arguments)}}()),a("ATeS")),re=a("t4U6"),oe=a("DVRL"),ce=a("UNgD"),le=a("sy1Z"),se=a("8Dlg"),pe=a("xoe0"),ge=a("0yE/"),de=a.n(ge),fe=Object(I.d)(de.a)((Z=G=class extends o.a.Component{shouldComponentUpdate(e){return this.props.isOfficial!==e.isOfficial||this.props.pageType!==e.pageType||this.props.sectionId!==e.sectionId||this.props.rankAttr!==e.rankAttr||this.props.trackTapLog!==e.trackTapLog||!d()(this.props.userList,e.userList)}render(){var{userList:e,rankAttr:t,isOfficial:a,pageType:n}=this.props,r=e.map((e,r)=>{var o=e.nick_name||"",c=de.a["LabelRanking__No".concat(e.rank)];return Object(i.a)("li",{className:de.a.ListItem},"".concat(t,"_").concat(e.ameba_id),Object(i.a)(ce.a,{orderId:"".concat(r+1),pageId:n,sectionId:this.props.sectionId,serviceId:a?"official":"general",tapLogger:this.props.trackTapLog},void 0,Object(i.a)(oe.a,{className:de.a.ListTarget,targetUrl:Object(se.a)(pe.a.BlogTop,{amebaId:e.ameba_id})},void 0,Object(i.a)(le.a,{alt:"",height:70,src:"".concat(window.process.env.HTTP_PATH_BLOG_STAT,"/blog/img/ameba/officialblog/face/").concat(e.ameba_id,"_96.jpg"),style:{height:70,width:70},width:70}),"MVB"===e.rank?Object(i.a)("div",{className:N()(de.a.LabelRanking,de.a.LabelRanking__Mvp)},void 0,"MVB"):Object(i.a)("div",{className:N()(de.a.LabelRanking,{[c]:e.rank<=3})},void 0,e.rank),Object(i.a)("p",{className:de.a.UserName},void 0,o))))});return Object(i.a)("ul",{className:N()(de.a.Block,de.a.Block__Official)},void 0,r)}},G.displayName="PcFooterRankingBlock",W=Z))||W,be=a("2uv1"),ue=a("4CSI"),he=a.n(ue),_e=Object(I.d)(he.a)((Y=Q=class extends o.a.Component{shouldComponentUpdate(e){return this.props.isOfficial!==e.isOfficial||this.props.pageType!==e.pageType||this.props.sectionId!==e.sectionId||this.props.trackTapLog!==e.trackTapLog||!d()(this.props.genre,e.genre)}render(){var{genre:e,pageType:t,isOfficial:a}=this.props,n=e.genreCode||"",r=e.genreRankingList||[],o=e.genreTitle||"",c=r.map((e,r)=>{var o=he.a["LabelRanking__No".concat(e.rank)];return Object(i.a)("li",{className:he.a.ListItem},e.ameba_id,"closed"===e.public_status?Object(i.a)("p",{},void 0,Object(i.a)("span",{className:N()(he.a.LabelRanking,{[o]:e.rank<=3})},void 0,e.rank),Object(i.a)("span",{className:he.a.UserNameEmpty},void 0,"\u30d6\u30ed\u30b0\u304c\u5b58\u5728\u3057\u307e\u305b\u3093")):Object(i.a)(ce.a,{categoryId:n,orderId:"".concat(r+1),pageId:t,sectionId:this.props.sectionId,serviceId:a?"official":"general",tapLogger:this.props.trackTapLog},void 0,Object(i.a)(oe.a,{className:he.a.ListTarget,targetUrl:Object(se.a)(pe.a.BlogTop,{amebaId:e.ameba_id})},e.ameba_id,Object(i.a)(le.a,{alt:"",className:he.a.ContentThumbnail,height:64,src:"".concat(e.profile_image,"?cat=64"),style:{height:64,width:64},width:64}),Object(i.a)("div",{className:he.a.ContentBlock},void 0,Object(i.a)("p",{},void 0,Object(i.a)("span",{className:N()(he.a.LabelRanking,{[o]:e.rank<=3})},void 0,e.rank),Object(i.a)("span",{className:he.a.UserName},void 0,e.nick_name)),Object(i.a)("p",{className:he.a.BlogTitle},void 0,Object(i.a)(be.a,{maxLength:16},void 0,e.blog_title))))))});return Object(i.a)("section",{className:N()(he.a.Block,{[he.a.Block__Official]:this.props.isOfficial}),genrecode:n},void 0,this.props.isOfficial&&Object(i.a)("h3",{className:he.a.Title},void 0,Object(i.a)("a",{className:he.a.TitleTarget,href:"".concat(window.process.env.HTTP_PATH_GENRE,"/genres/").concat(n)},void 0,o)),Object(i.a)("ul",{className:he.a.List},void 0,c))}},Q.displayName="PcFooterRankingGenreBlock",J=Y))||J,ke=a("WYIx"),ve=a.n(ke),ye=Object(I.d)(ve.a)((q=K=class extends o.a.Component{shouldComponentUpdate(e){return this.props.categoryId!==e.categoryId||this.props.isOfficial!==e.isOfficial||this.props.pageType!==e.pageType||this.props.sectionId!==e.sectionId||this.props.trackTapLog!==e.trackTapLog||!d()(this.props.dailyRanking,e.dailyRanking)}render(){var{isOfficial:e,pageType:t}=this.props,a=this.props.dailyRanking,n=a.blogs||[],r=this.props.categoryId||"",o=a.categoryName||"",c=n.map((a,n)=>{var r=a.profileImageUrl||"".concat(window.process.env.HTTP_PATH_STAT_PROFILE,"/profile_images/common/noimage.gif"),o=a.profileImageUrl.indexOf("profile_images")>-1?"?cat=55":"",c=ve.a["LabelRanking__No".concat(a.rank)];return Object(i.a)("li",{className:ve.a.ListItem},"top_blogger_".concat(a.amebaId),Object(i.a)(ce.a,{orderId:"".concat(n+1),pageId:t,sectionId:this.props.sectionId,serviceId:e?"official":"general",tapLogger:this.props.trackTapLog},void 0,Object(i.a)(oe.a,{className:ve.a.ListTarget,targetUrl:Object(se.a)(pe.a.BlogTop,{amebaId:a.amebaId})},void 0,Object(i.a)(le.a,{alt:"",className:ve.a.ContentThumbnail,height:64,src:"".concat(r).concat(o),style:{height:64,width:64},width:64}),Object(i.a)("div",{className:ve.a.ContentBlock},void 0,Object(i.a)("p",{},void 0,Object(i.a)("span",{className:N()(ve.a.LabelRanking,{[c]:a.rank<=3})},void 0,a.rank),Object(i.a)("span",{className:ve.a.UserName},void 0,a.nickName)),Object(i.a)("p",{className:ve.a.BlogTitle},void 0,Object(i.a)(be.a,{maxLength:16},void 0,a.blogTitle))))))});return Object(i.a)("section",{className:N()(ve.a.Block,ve.a.Block__Topblogger)},void 0,Object(i.a)("h3",{className:ve.a.Title},void 0,Object(i.a)("a",{className:ve.a.TitleTarget,href:"".concat(window.process.env.HTTP_PATH_AMEBLO,"/blog_portal/category/").concat(r,"/ranking/")},void 0,o)),Object(i.a)("ul",{className:ve.a.List},void 0,c))}},K.displayName="PcFooterRankingTopBloggerBlock",X=q))||X,me=a("sfiL"),Oe=a("tTI2"),Te=a("D+pS"),xe=a.n(Te),{DAILY_ALL:je,NEW_FACE:Le,RANK_UP:we}=me.a,Ne=["general","new","trend","genre"],Ie=["genre","topBlogger","general"],Be="all",Re="new",Se="hot",Ce="genre_all",Ee="topblogger";function Ae(){return(Ae=Object(n.a)((function*(e){var{dispatch:t,getState:a,match:i}=e,{params:n}=i,r=n.amebaId,o=yield t(Object(R.b)(r));if(!o||!o.error){var c=l()(a(),["bloggerState","bloggerMap",r,"blog"]),s=a().bloggerState.blogMap[c];if(s&&s.blog_id){var p=l()(a(),"bloggerState.bloggerMap[".concat(r,"]"),{}).attribute||{},g=p.isOfficial,d=p.isTopBlogger,f=[t(Object(F.a)(r,g)),t(Object(S.a)(je,10))];d&&f.push(t(P())),g&&(f.push(t(Object(S.a)(we,10))),f.push(t(Object(S.a)(Le,10)))),yield Promise.all(f);var b=l()(a(),["genreState","genreCodeMap",r],"");b&&t(ie(b,5))}}}))).apply(this,arguments)}var Pe=Object(f.b)((function(e,t){var{match:a}=t,{params:i,route:n}=a,r=i.amebaId,o=n.pageType,c=e.bloggerState,s=e.genreState,p=e.rankingOfficialState,g=e.genreRankingState,d=e.rankingTopbloggerState,f=c.bloggerMap[r]||{},b=f.attribute||{},u=b.isOfficial,h=b.isTopBlogger,_=l()(p,["rankingOfficialMap",je],[]),k=l()(p,["rankingOfficialMap",Le],[]),v=l()(p,["rankingOfficialMap",we],[]),y=re.a.concat(Object(B.a)(_).slice(0,10-re.a.length)),m=l()(s,["genreCodeMap",r],""),O=(g.genreRankingBlogMap||{})[m]||[],T=((e.genreRankingState.genreSummaryMap||{})[m]||[]).genre_title||"",x={genreCode:m,genreRankingList:O.slice(0,5),genreTitle:T},j=l()(f,["royal_member","category_id"],"");return{categoryId:j,dailyRanking:l()(d,["dailyRanking",j],{}),genre:x,isOfficial:u,isTopBlogger:h,pageType:o,rankingDailyAllList:y,rankingNewFaceList:k,rankingRankUpList:v}}),{trackTapLog:ne.i})($=Object(b.provideHooks)({done:function(e){return Ae.apply(this,arguments)}})($=Object(I.d)(xe.a)((te=ee=class extends o.a.Component{static get defaultProps(){return{categoryId:"",dailyRanking:{blogs:[],categoryName:""}}}constructor(e){super(e);var t=e.isOfficial?"general":"genre";this.state={active:t}}shouldComponentUpdate(e,t){return!(this.state.active===t.active&&this.props.categoryId===e.categoryId&&this.props.isOfficial===e.isOfficial&&this.props.isTopBlogger===e.isTopBlogger&&this.props.pageType===e.pageType&&this.props.trackTapLog===e.trackTapLog&&d()(this.props.dailyRanking,e.dailyRanking)&&d()(this.props.genre,e.genre)&&d()(this.props.rankingDailyAllList,e.rankingDailyAllList)&&d()(this.props.rankingNewFaceList,e.rankingNewFaceList)&&d()(this.props.rankingRankUpList,e.rankingRankUpList))}getTabData(e){switch(e){case"general":return{label:this.props.isOfficial?"\u7dcf\u5408":"\u82b8\u80fd\u4eba",path:"".concat(window.process.env.HTTP_PATH_OFFICIAL,"/rankings/total"),rankAttr:"general",sectionSuffix:Be};case"new":return{label:"\u65b0\u767b\u5834",path:"".concat(window.process.env.HTTP_PATH_OFFICIAL,"/rankings/new"),rankAttr:"new",sectionSuffix:Re};case"trend":return{label:"\u6025\u4e0a\u6607",path:"".concat(window.process.env.HTTP_PATH_OFFICIAL,"/rankings/hot"),rankAttr:"trend",sectionSuffix:Se};case"genre":return{label:this.props.isOfficial?"\u30b8\u30e3\u30f3\u30eb\u7dcf\u5408":"".concat(this.props.genre.genreTitle,"\u30b8\u30e3\u30f3\u30eb"),path:"".concat(window.process.env.HTTP_PATH_GENRE,"/genres/").concat(this.props.genre.genreCode,"/blogs/ranking"),rankAttr:"genre",sectionSuffix:Ce};case"topBlogger":return{label:"\u30c8\u30c3\u30d7\u30d6\u30ed\u30ac\u30fc",path:"".concat(window.process.env.HTTP_PATH_AMEBLO,"/blog_portal/all/ranking"),rankAttr:"topBlogger",sectionSuffix:Ee};default:return{}}}renderMoreLink(){var e=this.getTabData(this.state.active)||{},t=e.path||"".concat(window.process.env.HTTP_PATH_OFFICIAL,"/rankings/total"),a=e.sectionSuffix||"",n=a===Ce?l()(this.props.genre,"genreCode",""):"",r="ranking-".concat(a,"-more"),o=this.props.isOfficial?"official":"general";return Object(i.a)(Oe.a,{categoryId:n,pageType:this.props.pageType,path:t,sectionId:r,serviceId:o,tapLogger:this.props.trackTapLog},void 0,"\u3082\u3063\u3068\u898b\u308b")}renderOfficialRanking(){return Object(i.a)(j,{},void 0,Object(i.a)(L.a,{classNames:{exit:xe.a.TabContent__Fade_exit,exitActive:xe.a.TabContent__Fade_exit_active},timeout:800},this.state.active,Object(i.a)("div",{className:xe.a.TabContent},void 0,(e=>{switch(e){case"general":return Object(i.a)(fe,{isOfficial:this.props.isOfficial,pageType:this.props.pageType,rankAttr:"general",sectionId:"ranking-".concat(Be),trackTapLog:this.props.trackTapLog,userList:this.props.rankingDailyAllList});case"new":return Object(i.a)(fe,{isOfficial:this.props.isOfficial,pageType:this.props.pageType,rankAttr:"new",sectionId:"ranking-".concat(Re),trackTapLog:this.props.trackTapLog,userList:this.props.rankingNewFaceList});case"trend":return Object(i.a)(fe,{isOfficial:this.props.isOfficial,pageType:this.props.pageType,rankAttr:"trend",sectionId:"ranking-".concat(Se),trackTapLog:this.props.trackTapLog,userList:this.props.rankingRankUpList});case"genre":return""===this.props.genre.genreCode?null:Object(i.a)(_e,{genre:this.props.genre,isOfficial:this.props.isOfficial,pageType:this.props.pageType,sectionId:"ranking-".concat(Ce),trackTapLog:this.props.trackTapLog});default:return null}})(this.state.active))))}renderTabs(){var e=this.props.isOfficial?"official":"general",t=(this.props.isOfficial?Ne:Ie).filter(e=>!("topBlogger"===e&&!this.props.isTopBlogger)).filter(e=>!("genre"===e&&""===this.props.genre.genreCode&&this.props.isOfficial)).map(e=>this.getTabData(e)).map((t,a)=>Object(i.a)("li",{className:xe.a.TabListItem,role:"tab",onClick:()=>this.setState({active:t.rankAttr})},"tab_".concat(a),Object(i.a)(ce.a,{categoryId:t.sectionSuffix===Ce?l()(this.props.genre,"genreCode",""):"",pageId:this.props.pageType,sectionId:"ranking-tab_".concat(t.sectionSuffix),serviceId:e,tapLogger:this.props.trackTapLog},void 0,Object(i.a)("a",{className:N()(xe.a.TabListTarget,{[xe.a.TabListTarget__Active]:this.state.active===t.rankAttr})},void 0,t.label))));return Object(i.a)("ul",{className:xe.a.TabList},void 0,t)}renderGeneralRanking(){return Object(i.a)(j,{},void 0,Object(i.a)(L.a,{classNames:{exit:xe.a.TabContent__Fade_exit,exitActive:xe.a.TabContent__Fade_exit_active},timeout:800},this.state.active,Object(i.a)("div",{className:xe.a.TabContent},void 0,(e=>{switch(e){case"genre":return Object(i.a)(_e,{genre:this.props.genre,isOfficial:this.props.isOfficial,pageType:this.props.pageType,sectionId:"ranking-".concat(Ce),trackTapLog:this.props.trackTapLog});case"topBlogger":return!this.props.isTopBlogger&&p()(this.props.dailyRanking)?null:Object(i.a)(ye,{categoryId:this.props.categoryId,dailyRanking:this.props.dailyRanking,isOfficial:this.props.isOfficial,pageType:this.props.pageType,sectionId:"ranking-".concat(Ee),trackTapLog:this.props.trackTapLog});case"general":return Object(i.a)(fe,{isOfficial:this.props.isOfficial,pageType:this.props.pageType,rankAttr:"general",sectionId:"ranking-".concat(Be),trackTapLog:this.props.trackTapLog,userList:this.props.rankingDailyAllList});default:return null}})(this.state.active))))}render(){return Object(i.a)("section",{className:xe.a.Block},void 0,Object(i.a)("div",{className:xe.a.Heading},void 0,Object(i.a)("h2",{className:xe.a.Title},void 0,"\u30e9\u30f3\u30ad\u30f3\u30b0"),this.renderTabs()),Object(i.a)("div",{className:xe.a.Content,pagetype:this.props.pageType},void 0,this.props.isOfficial?this.renderOfficialRanking():this.renderGeneralRanking()),this.renderMoreLink())}},ee.displayName="PcFooterRanking",$=te))||$)||$)||$}}]);