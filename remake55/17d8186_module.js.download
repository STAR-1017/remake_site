(window._ambjs=window._ambjs||[]).push([[395],{"4/YZ":function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return _}));var a,i,s,r,n,l=o("5n0U"),p=o("mK0O"),c=o("eijD"),b=(o("W0B4"),o("mXGw")),d=o.n(b),u=o("edSL"),m=o.n(u),h=o("/gfI"),f=o.n(h),g=o("/m4v"),O=o("xfIn"),j=o("z725"),v=o("tDZY"),w=o("lhY6"),I=o("othg"),y=o("8Dlg"),A=o("DVRL"),P=o("xoe0"),S=o("ShxF"),L=o("x9GJ");function U(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=parseInt(e,10);return!t||t<1?1:t}function M(){return(M=Object(c.a)((function*(e){var{dispatch:t,getState:o,match:a}=e,{params:i}=a,s=i.amebaId,r=yield t(Object(v.b)(s));if(!r||!r.error){var n=o().bloggerState,l=n.bloggerMap,p=n.blogMap[(l[s]||{}).blog];if(p&&p.blog_id){var c=x(i.page);yield Promise.all([t(Object(j.b)(p.blog_id,c,20)),t(Object(I.b)())]),Object(L.a)(o())&&(yield t(Object(I.a)())),yield t(Object(w.d)(s))}}}))).apply(this,arguments)}var _=Object(g.b)((function(e,t){var{match:o}=t,{params:a}=o,i=a.amebaId,s=e.bloggerState.bloggerMap[i]||{},r=m()(s,"official.image_protection_type")||"",n=!0,l=e.entryState,c=x(a.page),b=l.blogPageMap["".concat(s.blog,"/").concat(c)]||{};if(b){var d=b.data;if(d){var u=l.entryMap;n=d.map(e=>u[e]).length>0}}var h=Object(L.a)(e),f=m()(e.userState,["userAttribute","isLoaded"])||!1,g=e.userState.sessionUser.amebaId||"",{followMap:O,followActionMap:j}=e.followState,v=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?U(Object(o),!0).forEach((function(t){Object(p.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):U(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({amebaId:i},O[i]||{});return{amebaId:i,followActionStatus:j.target||{},followButtonStatus:v,hasEntry:n,imageProtectionType:r,isFollowingUpperLimit:j.isUpperLimit||!1,isMember:h,isUserAttributeLoaded:f,sessionAmebaId:g}}),{executeFollowRequest:w.a,executeUnfollowRequest:w.b})(a=Object(O.provideHooks)({done:function(e){return M.apply(this,arguments)}})((s=i=class extends d.a.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}shouldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.executeFollowRequest!==e.executeFollowRequest||this.props.executeUnfollowRequest!==e.executeUnfollowRequest||this.props.hasEntry!==e.hasEntry||this.props.imageProtectionType!==e.imageProtectionType||this.props.isFollowingUpperLimit!==e.isFollowingUpperLimit||this.props.isMember!==e.isMember||this.props.isUserAttributeLoaded!==e.isUserAttributeLoaded||this.props.position!==e.position||this.props.sessionAmebaId!==e.sessionAmebaId||!f()(this.props.followActionStatus,e.followActionStatus)||!f()(this.props.followButtonStatus,e.followButtonStatus)}handleClick(e){var{followActionStatus:t,followButtonStatus:o,isMember:a,isUserAttributeLoaded:i,sessionAmebaId:s}=this.props,r=S.b;if(i&&a&&(!a||s)&&o.amebaId!==s&&!(o.hasErrors||o.amebaId===t.amebaId&&t.hasErrors||o.loading))if(o.amebaId===t.amebaId&&t.loading)e.preventDefault();else{if(o.isFollowing)return e.preventDefault(),void this.props.executeUnfollowRequest(o.amebaId,r);e.preventDefault(),this.props.executeFollowRequest(o.amebaId,r)}}render(){return this.props.hasEntry?Object(l.a)("div",{className:"readerMainLink"},void 0,Object(l.a)("ul",{},void 0,"top"===this.props.position&&"all_deny"!==this.props.imageProtectionType&&Object(l.a)("li",{className:"linkImageLi"},void 0,Object(l.a)("a",{href:Object(y.a)(P.a.ImageList,{amebaId:this.props.amebaId})},void 0,r||(r=Object(l.a)("span",{},void 0,"\u30d6\u30ed\u30b0\u753b\u50cf\u4e00\u89a7\u3092\u898b\u308b")))),"top"===this.props.position&&Object(l.a)("li",{className:"linkAmenber"},void 0,Object(l.a)(A.a,{targetUrl:Object(y.a)(P.a.AmemberEntryList,{amebaId:this.props.amebaId})},void 0,"\u3010\u9650\u5b9a\u516c\u958b\u3011\u30a2\u30e1\u30f3\u30d0\u30fc\u8a18\u4e8b\u4e00\u89a7")),Object(l.a)("li",{className:"readBlog"},void 0,Object(l.a)("a",{href:"".concat(window.process.env.HTTP_PATH_BLOG_AMEBA,"/reader.do?bnm=").concat(this.props.amebaId),onClick:this.handleClick},void 0,n||(n=Object(l.a)("span",{},void 0,"\u3053\u306e\u30d6\u30ed\u30b0\u3092\u30d5\u30a9\u30ed\u30fc\u3059\u308b")))),"bottom"===this.props.position&&Object(l.a)("li",{className:"linkPhoto"},void 0,Object(l.a)("a",{href:"".concat(window.process.env.HTTP_PATH_OFFICIAL,"/photo/detail?amebaId=").concat(this.props.amebaId,"&page=1"),title:"\u30d5\u30a9\u30c8\u30a2\u30eb\u30d0\u30e0\u3092\u898b\u308b"},void 0,"\u30d5\u30a9\u30c8\u30a2\u30eb\u30d0\u30e0\u3092\u898b\u308b")))):null}},i.displayName="PcNavigationBarOfficial",a=s))||a)||a}}]);