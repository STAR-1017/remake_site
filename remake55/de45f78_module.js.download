(window._ambjs=window._ambjs||[]).push([[301],{"0jiH":function(e,a,t){var o=t("Q50+"),n=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r=Object.defineProperty||function(e,a,t){e[a]=t.value};"string"==typeof o&&(o=[[e.i,o,""]]),e.exports=function(e){var a=n({},e.locals||{});return r(a,"_",{value:function(){return e}}),r(a,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),a}(o)},"7rbB":function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return G}));var o,n,r,i=t("5n0U"),l=t("mK0O"),s=t("eijD"),d=(t("W0B4"),t("mXGw")),c=t.n(d),p=t("edSL"),g=t.n(p),b=t("/gfI"),m=t.n(b),h=t("YFs1"),_=t.n(h),f=t("8Jek"),u=t.n(f),v=t("xfIn"),O=t("/m4v"),y=t("Wmux"),j=t.n(y),x=t("G2LB"),M=t.n(x),N=t("Samx"),k=t.n(N),I=t("1IY1"),w=t("1stT"),R=t.n(w),C=t("5gno"),L=t.n(C),P=t("0rHB"),B=t.n(P),T=t("h2QB"),S=t("tDZY"),U=t("FluC"),A=t("20iu"),E=t("9A+K"),H=t("GTfF"),Y=t("0jiH"),F=t.n(Y),z=t("qvLH"),D=t("2uv1");function Z(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,o)}return t}function q(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Z(Object(t),!0).forEach((function(a){Object(l.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function W(){return(W=Object(s.a)((function*(e){var{dispatch:a,match:t}=e,{params:o}=t,n=o.amebaId;a(Object(S.b)(n))}))).apply(this,arguments)}var G=Object(O.b)((function(e,a){var{match:t}=a,{params:o}=t,n=o.amebaId,r=e.entryState,i=e.bloggerState,l=e.reblogState,s=e.pcModalState,d=i.bloggerMap,c=i.blogMap,p=r.entryMap,b=d[n]||{},m=b.blog,h=s.entryId||"",f=q(q({},p[h]||{}),r.entryReactionsMap[h]||{}),u=c[b.blog]||{},v=g()(l,["reblogPageMap",f.entry_id,"currentPage"],1),O=Array.from(new Array(v)).map((e,a)=>a+1),y=[];O.map(e=>(((l.reblogPageMap["".concat(f.entry_id,"/").concat(e)]||{}).data||[]).map(e=>y.push(e)),null));var j=y.map(e=>l.reblogMap[e]),x=l.reblogPageMap["".concat(f.entry_id,"/").concat(v)]||{},M=x.paging||{},N=void 0===x.loading,k="deny"===u.deny_reblog,I=Object(T.b)(u,f).canReblog,w=s.opendModalName||"",R=!_()(f)&&w===z.c;return{blogId:m,canReblog:I,denyReblog:k,entry:f,isOpen:R,loading:N,reblogList:j,paging:M}}),{closeModal:A.a,fetchReblogRequest:U.a})(o=Object(v.provideHooks)({defer:function(e){return W.apply(this,arguments)}})(o=Object(I.d)(F.a)((r=n=class extends c.a.Component{constructor(e){super(e),this.handleClickMore=this.handleClickMore.bind(this),this.handleAfterOpen=this.handleAfterOpen.bind(this),this.handleCloseModal=this.handleCloseModal.bind(this)}shouldComponentUpdate(e){return this.props.blogId!==e.blogId||this.props.canReblog!==e.canReblog||this.props.closeModal!==e.closeModal||this.props.fetchReblogRequest!==e.fetchReblogRequest||this.props.isOpen!==e.isOpen||this.props.loading!==e.loading||!m()(this.props.entry,e.entry)||!m()(this.props.paging,e.paging)||!m()(this.props.reblogList,e.reblogList)}componentWillUnmount(){this.handleCloseModal()}fetchReblog(e,a){var{blogId:t,entry:o}=this.props;this.props.fetchReblogRequest(t,o.entry_id,e,10,a)}handleClickMore(){var{paging:e}=this.props;this.fetchReblog(e.next,e.next_page)}handleAfterOpen(){this.fetchReblog(0,1)}handleCloseModal(){this.props.closeModal()}renderItemList(){var{reblogList:e,paging:a}=this.props,t=e.map(e=>{var a=e.user_profile_list[0]||{},t=a.ameba_id||"",o=a.nickname||"",n=a.image_filepath||"",r=e.entry_title||"",l=e.entry_id||"",s=g()(e,"entry_text",""),d=M()(k()(e.entry_created_datetime),j()(new Date,1));return Object(i.a)("li",{className:u()(F.a.Item,"modal-list__item")},"reblog_item_".concat(l),Object(i.a)("div",{className:u()(F.a.UserLink,"modal-list__link","js-modal-link")},void 0,Object(i.a)("a",{className:u()(F.a.Entry,"modal-entry"),href:"/".concat(t,"/entry-").concat(e.entry_id,".html")},void 0,Object(i.a)("p",{className:u()(F.a.EntryTitle,"modal-entry__title")},void 0,Object(i.a)(R.a,{"aria-hidden":"true",className:F.a.IconReblog__List}),r),Object(i.a)("p",{className:u()(F.a.EntryText,"modal-entry__text")},void 0,Object(i.a)(D.a,{maxLength:133},void 0,s)),Object(i.a)("div",{className:"modal-user-info"},void 0,Object(i.a)("div",{className:u()(F.a.Left,"modal-user-info__sub")},void 0,Object(i.a)("img",{alt:"",className:u()(F.a.ProfileImage,"modal-user-info__thumb"),src:n})),Object(i.a)("div",{className:u()(F.a.Right,"modal-user-info__main")},void 0,Object(i.a)("p",{className:u()(F.a.Nickname,{[F.a.NicknameNew]:d},"modal-user-info__name")},void 0,o),Object(i.a)("p",{className:u()(F.a.Time,"modal-user-info__date")},void 0,k()(e.entry_created_datetime,"YYYY/MM/DD HH:mm:ss"),d&&Object(i.a)(L.a,{"aria-label":"NEW",className:F.a.New})))))))});return Object(i.a)("ul",{className:u()(F.a.User,"modal-list","js-modal-list")},void 0,t,a.current_page!==a.next_page&&this.renderMoreLink())}renderMoreLink(){return Object(i.a)("div",{className:u()(F.a.Footer,"modal-more","js-fetch-more"),role:"presentation",onClick:this.handleClickMore},void 0,Object(i.a)("a",{className:F.a.MoreButton},void 0,Object(i.a)("span",{className:F.a.More},void 0,Object(i.a)(B.a,{"aria-hidden":"true",className:F.a.IconMore}),"\u3082\u3063\u3068\u898b\u308b")))}renderContents(){var{loading:e,reblogList:a}=this.props;return e?Object(i.a)("div",{className:u()(F.a.Contents,"modal-body")},void 0,Object(i.a)(E.a,{barClass:F.a.LoadingBar})):_()(a)?Object(i.a)("div",{className:u()(F.a.Contents,"modal-body")},void 0,Object(i.a)("div",{className:F.a.Warning},void 0,"\u3053\u306e\u8a18\u4e8b\u306b\u3064\u3044\u305f\u30ea\u30d6\u30ed\u30b0\u306f\u3042\u308a\u307e\u305b\u3093\u3002")):Object(i.a)("div",{className:u()(F.a.Contents,"modal-body")},void 0,this.renderItemList())}renderReblogModal(){var{entry:e}=this.props,a=e.reblogCnt||0;return Object(i.a)("div",{className:u()(F.a.Block,"modal","js-modal-frame")},void 0,Object(i.a)("div",{className:"modal-container js-modal-container"},void 0,Object(i.a)("div",{className:u()(F.a.Header,"modal-header","js-modal-header")},void 0,Object(i.a)("h2",{className:u()(F.a.HeadTitle,"modal-heading","js-modal-heading")},void 0,Object(i.a)(R.a,{"aria-hidden":"true",className:u()(F.a.IconReblog,"modal-heading__icon")}),"\u300c",Object(i.a)("span",{className:u()(F.a.HeadEntryTitle,"modal-heading__entry-title")},void 0,e.entry_title),"\u300d\u306e\u30ea\u30d6\u30ed\u30b0\u4e00\u89a7",Object(i.a)("span",{className:u()(F.a.Count,"modal-heading__number")},void 0,"\uff08",Object(i.a)("span",{className:F.a.ReblogCount},void 0,a),"\u4ef6\uff09"))),this.renderContents()))}render(){return this.props.canReblog?Object(i.a)(c.a.Fragment,{},void 0,Object(i.a)("div",{className:u()(F.a.ModalMask,{[F.a.ModalMask_active]:this.props.isOpen},"modal-mask js-modal-mask js-modal-close")}),Object(i.a)(H.a,{className:F.a.Modal,contentLabel:"PcEntryReblogList",isOpen:this.props.isOpen,onAfterOpen:this.handleAfterOpen,onRequestClose:this.handleCloseModal},void 0,this.renderReblogModal())):null}},n.displayName="PcEntryReblogModal",o=r))||o)||o)||o},"Q50+":function(e,a,t){var o=t("Ai0b"),n=t("bIRO"),r=o(!1);r.i(n,"",!0),r.push([e.i,"._3KL_VIha{font-size:12px;text-align:left;width:573px}._2vPxCmfx{background:#efefef;border-bottom:1px solid #ccc;border-radius:6px 6px 0 0;min-height:33px}._3spIvLuB{color:#333;font-size:12px;font-weight:400;margin:0;padding:8px 12px}._CmzAbB7T{color:#2d8c3c;font-size:17px;vertical-align:-4px}._1XUgPOki{font-weight:700}._3-ZUriFP{color:#999}._m3a4J7Lj{color:#fe9019}._1Q7SewSO{max-height:532px;overflow:auto}._3SYqO7hs{height:48px;opacity:.8}._3BIWVrBy{margin:0 auto;padding:2rem 0;text-align:center}._1BZIYTm2{margin:0;padding:0}._164vIUlI{border-top:1px dotted #b3b3b3;display:block;font-size:12px;list-style:none;overflow:hidden}._164vIUlI:first-child{border-top:none}._164vIUlI:last-child{border-radius:0 0 6px 6px}._164vIUlI:hover{background-color:#eff7fe;cursor:pointer}._3ulFoUBi{padding:15px}._2QF1v4js{display:block}._2nR1dRpc{color:#4290c6;font-size:14px;font-weight:700;line-height:1;margin-bottom:7px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._18CZJG0r{font-size:20px;margin-right:5px;vertical-align:-5px}._2BkjLyNi{-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:3;line-height:1.4;margin-bottom:7px;overflow:hidden}._2Nxm2grK{display:table-cell;padding-right:10px;vertical-align:middle;width:32px}._32MIMWNw{border:1px solid #e2e2e2;height:30px;width:30px}._2rkn6TTt{display:table-cell;vertical-align:middle}._1DOMSP_E{color:#4290c6;float:left;margin-right:10px}._vMeYg9pb{margin-top:3px}._1f_KklBe{color:#999;float:left}._3VAAgGGp{color:#fe9019;font-size:24px;padding-left:5px;vertical-align:-7px;width:35px}._1Jk6flQ7{border-top:1px solid #ccc;text-align:center}._1L5fgggM{cursor:pointer;display:block;padding:12px 0}._1L5fgggM:hover{background-color:#eff7fe;border-radius:0 0 6px 6px;cursor:pointer;text-decoration:none}._2Iv7ZZhd{color:#4290c6}._AV2q-_Mg{color:#999;font-size:16px;padding-right:2px;vertical-align:-4px}._1Ra5H9rP{background-color:#000;display:none;height:100%;left:0;opacity:.25;position:fixed;top:0;width:100%;z-index:2101}._ml0Pm6Cd{display:block}",""]),r.locals={Modal:"_3KL_VIha "+n.locals.Block,Header:"_2vPxCmfx",HeadTitle:"_3spIvLuB",IconReblog:"_CmzAbB7T",HeadEntryTitle:"_1XUgPOki",Count:"_3-ZUriFP",ReblogCount:"_m3a4J7Lj",Contents:"_1Q7SewSO",LoadingBar:"_3SYqO7hs",Warning:"_3BIWVrBy",User:"_1BZIYTm2",Item:"_164vIUlI",UserLink:"_3ulFoUBi",Entry:"_2QF1v4js",EntryTitle:"_2nR1dRpc",IconReblog__List:"_18CZJG0r",EntryText:"_2BkjLyNi",Left:"_2Nxm2grK",ProfileImage:"_32MIMWNw",Right:"_2rkn6TTt",Nickname:"_1DOMSP_E",NicknameNew:"_vMeYg9pb",Time:"_1f_KklBe",New:"_3VAAgGGp",Footer:"_1Jk6flQ7",MoreButton:"_1L5fgggM",More:"_2Iv7ZZhd",IconMore:"_AV2q-_Mg",ModalMask:"_1Ra5H9rP",ModalMask_active:"_ml0Pm6Cd"},e.exports=r}}]);