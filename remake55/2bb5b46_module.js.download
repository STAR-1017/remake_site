(window._ambjs=window._ambjs||[]).push([[189],{"u/CO":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return G}));var i,p,r,o,s,n,c=a("5n0U"),l=a("mK0O"),h=a("eijD"),g=(a("W0B4"),a("mXGw")),d=a.n(g),b=a("edSL"),m=a.n(b),y=a("/gfI"),f=a.n(y),u=a("xfIn"),O=a("/m4v"),T=a("YFs1"),I=a.n(T),j=a("jqn8"),k=a("z725"),C=a("tDZY"),S=a("BgMP"),M=a("8CXZ"),P=a("I5bt"),_=a("yh84"),L=a("20iu"),E=a("ATeS"),v=a("h2QB"),R=a("gw4a"),q=a("kE0e"),B=a("OcTq"),w=a("U0FC"),D=a("oXka"),x=a("4mfZ"),A=a("EHi3"),H=a("rMeq");function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(Object(a),!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=parseInt(e,10);return!t||t<1?1:t}function X(){return(X=Object(h.a)((function*(e){var{dispatch:t,getState:a,match:i}=e,{params:p}=i,r=p.amebaId,o=yield t(Object(C.b)(r));if(o&&o.error)"Not Found"===m()(o,"payload.error.message")?t(Object(S.c)(r)):t(Object(S.b)(r));else{var s=a().bloggerState,n=s.bloggerMap,c=s.blogMap[(n[r]||{}).blog]||{},l=c.entry_limit||"";if(c&&c.blog_id){var h=U(p.page);yield t(Object(j.a)(c.blog_id,h,l,!0))}else t(Object(S.c)(r))}}))).apply(this,arguments)}function Z(){return(Z=Object(h.a)((function*(e){var{dispatch:t,getState:a,match:i}=e,{params:p}=i,r=p.amebaId,o=a().bloggerState,s=o.bloggerMap,n=o.blogMap[(s[r]||{}).blog]||{};if("new"===(m()(a(),["skinState","pcSkinMap",n.blog_id],{}).base_skin||"")){var c=a().entryState,l=U(p.page),h=(c.pcBlogTopPageMap["".concat(n.blog_id,"/").concat(l)]||{}).data||[],g=c.entryMap,d=[t(Object(M.a)(r,h)),t(Object(k.a)(n.blog_id,h))];h.forEach(e=>{var a=g[e];d.push(t(Object(P.a)(n.blog_id,a.entry_id))),Object(v.b)(n,a).canIine&&d.push(t(Object(_.c)(r,a.entry_id)))}),yield Promise.all(d)}}))).apply(this,arguments)}var G=Object(H.q)(["match","location"])(i=Object(O.b)((function(e,t){var{match:a,location:i}=t,{params:p,route:r}=a,{pathname:o}=i,s=p.amebaId,n=e.bloggerState,c=e.entryState,l=e.iineState,h=n.bloggerMap,g=n.blogMap,d=h[s]||{},b=d.official||{},y=d.seo_setting||{},f=g[d.blog]||{},u=d.profile||{},O=(d.attribute||{}).isOfficial,T=(d.blog_genre||{}).genre_code||"",I=f.daydisplay_flg||1,j=m()(d,["official","image_protection_type"],""),k=m()(d,["official","image_reproduce"],""),C=U(p.page),S=c.pcBlogTopPageMap["".concat(f.blog_id,"/").concat(C)]||{},M=S.data||[],P=c.entryMap,_=M.map(e=>N(N({},P[e]),m()(c,["entryReactionsMap",e],{}))),L=void 0===S.loading||S.loading,E=S.paging||{},v=c.entryHashtagMap||{},R=M.map(e=>v[e]),q=r.pageType,B=l.iineButtonMap;return{amebaId:s,amebloOneTimeToken:m()(e,["amebloTokenState","amebloOneTimeToken"],""),blog:f,dateDisplayCode:I,entries:_,entriesLoading:L,genreCode:T,hashtags:R,iineButtonMap:B,imageProtectionType:j,imageReproduce:k,isOfficial:O,official:b,pageType:q,paging:E,pathname:o,profile:u,seoSetting:y,locationSearch:i.search}}),{cancelIineRequest:_.a,executeIineRequest:_.b,closeModal:L.a,openModal:L.b,fetchIineRequest:_.c,trackTapLog:E.i,trackEndClip:E.c,trackProgressClip:E.e,trackStartClip:E.h})(i=Object(u.provideHooks)({defer:function(e){return X.apply(this,arguments)},done:function(e){return Z.apply(this,arguments)}})((r=p=class extends d.a.Component{static get defaultProps(){return{amebloOneTimeToken:""}}shouldComponentUpdate(e){return!(this.props.amebaId===e.amebaId&&this.props.amebloOneTimeToken===e.amebloOneTimeToken&&this.props.adInArticlePanel===e.adInArticlePanel&&this.props.cancelIineRequest===e.cancelIineRequest&&this.props.closeModal===e.closeModal&&this.props.dateDisplayCode===e.dateDisplayCode&&this.props.entriesLoading===e.entriesLoading&&this.props.executeIineRequest===e.executeIineRequest&&this.props.fetchIineRequest===e.fetchIineRequest&&this.props.genreCode===e.genreCode&&this.props.imageProtectionType===e.imageProtectionType&&this.props.imageReproduce===e.imageReproduce&&this.props.isOfficial===e.isOfficial&&this.props.openModal===e.openModal&&this.props.pageType===e.pageType&&this.props.pathname===e.pathname&&this.props.trackEndClip===e.trackEndClip&&this.props.trackProgressClip===e.trackProgressClip&&this.props.trackStartClip===e.trackStartClip&&this.props.trackTapLog===e.trackTapLog&&this.props.locationSearch===e.locationSearch&&f()(this.props.blog,e.blog)&&f()(this.props.entries,e.entries)&&f()(this.props.adEntryBottom,e.adEntryBottom)&&f()(this.props.hashtags,e.hashtags)&&f()(this.props.iineButtonMap,e.iineButtonMap)&&f()(this.props.official,e.official)&&f()(this.props.paging,e.paging)&&f()(this.props.profile,e.profile)&&f()(this.props.recentImageEntryList,e.recentImageEntryList)&&f()(this.props.recentThemeEntryList,e.recentThemeEntryList)&&f()(this.props.seoSetting,e.seoSetting))}renderEntryEmpty(){return Object(c.a)("span",{className:"error"},void 0,o||(o=Object(c.a)("br",{})),Object(c.a)("p",{align:"center"},void 0,Object(c.a)("img",{alt:"\u3053\u306e\u30d6\u30ed\u30b0\u306b\u306f\u307e\u3060\u6295\u7a3f\u304c\u3042\u308a\u307e\u305b\u3093\u3002",src:"".concat(window.process.env.HTTP_PATH_BLOG_STAT,"/common_style/img/ameba/common/no_article.gif"),style:{display:"flex",justifyContent:"center"}})),s||(s=Object(c.a)("br",{})),n||(n=Object(c.a)("br",{})))}render(){var e=this.props.entries.map((e,t)=>{var a=Object(c.a)(D.a,{amebaId:this.props.amebaId,entryId:"".concat(e.entry_id),genreCode:this.props.genreCode,hashtag:this.props.hashtags[t]||[],isOfficial:this.props.isOfficial}),i=!I()(e.clip)&&Object(c.a)(w.a,{amebaId:this.props.amebaId,duration:e.clip.duration||0,entryId:"".concat(e.entry_id),id:e.clip.id||"",pathname:this.props.pathname,playCount:e.clip.play_count||0,trackEndClip:this.props.trackEndClip,trackProgressClip:this.props.trackProgressClip,trackStartClip:this.props.trackStartClip}),p=Object(c.a)(B.a,{amebaId:this.props.amebaId,blog:this.props.blog,entry:e,official:this.props.official}),r=Object(c.a)(x.a,{amebaId:this.props.amebaId,amebloOneTimeToken:this.props.amebloOneTimeToken,blog:this.props.blog,cancelIineRequest:this.props.cancelIineRequest,entry:e,executeIineRequest:this.props.executeIineRequest,fetchIineRequest:this.props.fetchIineRequest,iine:this.props.iineButtonMap[e.entry_id]||{},isOfficial:this.props.isOfficial,pageType:this.props.pageType,trackTapLog:this.props.trackTapLog}),o=Object(c.a)(A.a,{amebaId:this.props.amebaId,closeModal:this.props.closeModal,entry:e,isOfficial:this.props.isOfficial,openModal:this.props.openModal,pageType:this.props.pageType,permissions:Object(v.b)(this.props.blog,e),trackTapLog:this.props.trackTapLog});return 0===t?Object(c.a)(q.a,{adEntryBottom:this.props.adEntryBottom,adInArticlePanel:this.props.adInArticlePanel(t)||null,amebaId:this.props.amebaId,dateDisplayCode:this.props.dateDisplayCode,entry:e,entryDetailClip:i,entryIndex:t+1,hashtag:a,imageProtectionType:this.props.imageProtectionType,imageReproduce:this.props.imageReproduce,isOfficial:this.props.isOfficial,locationSearch:this.props.locationSearch,openModal:this.props.openModal,pageType:this.props.pageType,reactions:r,reactionsLink:o,recentImageEntryList:this.props.recentImageEntryList,recentThemeEntryList:this.props.recentThemeEntryList,shareButton:p,trackStartClip:this.props.trackStartClip,trackTapLog:this.props.trackTapLog},e.entry_id):Object(c.a)(q.a,{adInArticlePanel:this.props.adInArticlePanel(t)||null,amebaId:this.props.amebaId,dateDisplayCode:this.props.dateDisplayCode,entry:e,entryDetailClip:i,entryIndex:t+1,hashtag:a,imageProtectionType:this.props.imageProtectionType,imageReproduce:this.props.imageReproduce,isOfficial:this.props.isOfficial,locationSearch:this.props.locationSearch,openModal:this.props.openModal,pageType:this.props.pageType,reactions:r,reactionsLink:o,shareButton:p,trackStartClip:this.props.trackStartClip,trackTapLog:this.props.trackTapLog},e.entry_id)}),t=e.length>0,a=!this.props.entriesLoading&&!t;return Object(c.a)(d.a.Fragment,{},void 0,Object(c.a)(R.a,{blog:this.props.blog,entries:this.props.entries,pageType:this.props.pageType,paging:this.props.paging,profile:this.props.profile,seoSetting:this.props.seoSetting}),a&&this.renderEntryEmpty(),e)}},p.displayName="PcBlogTopNew",i=r))||i)||i)||i}}]);