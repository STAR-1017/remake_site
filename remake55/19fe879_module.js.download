(window._ambjs=window._ambjs||[]).push([[43],{"9zeQ":function(t,e,i){var a=i("dLnA"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},r=Object.defineProperty||function(t,e,i){t[e]=i.value};"string"==typeof a&&(a=[[t.i,a,""]]),t.exports=function(t){var e=n({},t.locals||{});return r(e,"_",{value:function(){return t}}),r(e,"toString",{value:function(){return"function"==typeof t.toString?t.toString():""}}),e}(a)},Ack5:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var a=i("mK0O"),n=i("7VD8");function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){Object(a.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function o(t,e,i,a){if(!t)return[];var r=t.querySelectorAll("[".concat(n.a.DATA_ENTRY_CLIP_SCENE,"]"))||[],o=[];return Array.prototype.forEach.call(r,t=>{for(var r={},d=0,c=t.attributes.length;d<c;d+=1){var p=t.attributes[d];p.name!==n.a.DATA_ENTRY_CLIP_SCENE&&(r[p.name.replace("".concat(n.a.DATA_ENTRY_CLIP_SCENE,"-"),"")]=p.value)}o.push({element:t,props:s(s({},r),{},{amebaId:e,entryId:i,trackStartClip:a})})}),o}},c3et:function(t,e,i){"use strict";i.d(e,"a",(function(){return I}));var a=i("5n0U"),n=(i("W0B4"),i("mXGw")),r=i.n(n),s=i("8Jek"),o=i.n(s),d=i("7IP4"),c=i.n(d),p=i("1IY1"),l=i("d7u7"),h=i("so/P"),u=i.n(h),m=i("YFs1"),g=i.n(m),f=i("6hvu"),v=i.n(f);class b extends r.a.Component{static get defaultProps(){return{className:"",frameBorder:0,loop:"loop",no:null,scrolling:"no",onLoaded:c.a}}constructor(t){super(t),this.handleLoaded=this.handleLoaded.bind(this)}componentDidMount(){this.element.addEventListener("load",this.handleLoaded,!1)}shouldComponentUpdate(t){return this.props.className!==t.className||this.props.frameBorder!==t.frameBorder||this.props.height!==t.height||this.props.no!==t.no||this.props.id!==t.id||this.props.scrolling!==t.scrolling||this.props.width!==t.width}componentWillUnmount(){this.element.contentWindow&&this.element.contentWindow.postMessage({action:"destroy"},window.process.env.HTTP_PATH_CLIPBLOG),this.element.removeEventListener("load",this.handleLoaded,!1)}handleLoaded(){this.props.onLoaded()}render(){var{className:t,frameBorder:e,height:i,id:a,loop:n,no:s,scrolling:o,width:d}=this.props,c=u.a.format({query:v()({v:a,no:s,loop:n},g.a)});return r.a.createElement("iframe",{className:t,frameBorder:e,height:i,ref:t=>{this.element=t},scrolling:o,src:"".concat(window.process.env.HTTP_PATH_CLIPBLOG,"/").concat(c),width:d})}}b.displayName="PcEntryClipSceneFrame";class y extends r.a.Component{static get defaultProps(){return{alt:"",className:"",no:""}}shouldComponentUpdate(t){return this.props.alt!==t.alt||this.props.className!==t.className||this.props.height!==t.height||this.props.no!==t.no||this.props.id!==t.id||this.props.width!==t.width}render(){var{alt:t,className:e,height:i,id:n,no:r,width:s}=this.props,o=r?"output/normal/".concat(n,"/thumbnail/scene_").concat(r,"_").concat(n,"-thumbnail-00001.jpg"):"output/hls/".concat(n,"/thumbnail/").concat(n,"-thumbnail-00001.jpg");return Object(a.a)("img",{alt:t,className:e,height:i,src:"".concat(window.process.env.HTTP_PATH_CLIPBLOG,"/").concat(o),width:s})}}y.displayName="PcEntryClipScenePlaceholder";var w,_,L,P=i("9zeQ"),x=i.n(P),I=Object(p.d)(x.a)((L=_=class t extends r.a.Component{static get defaultProps(){return{height:"",loop:"loop",no:"",width:"",trackStartClip:c.a}}constructor(t){super(t),this.state={isInview:!1,isLoaded:!1,isPlaying:!1},this.startListen=this.startListen.bind(this),this.stopListen=this.stopListen.bind(this),this.handleFrameLoaded=this.handleFrameLoaded.bind(this),this.receiveMessage=this.receiveMessage.bind(this),this.isTrackedStartClip=!1}componentDidMount(){this.startListen(),window.addEventListener("message",this.receiveMessage,!1)}shouldComponentUpdate(t,e){return this.props.amebaId!==t.amebaId||this.props.entryId!==t.entryId||this.props.height!==t.height||this.props.no!==t.no||this.props.id!==t.id||this.props.width!==t.width||this.state.isInview!==e.isInview||this.state.isLoaded!==e.isLoaded||this.state.isPlaying!==e.isPlaying||this.props.trackStartClip!==t.trackStartClip}componentWillUnmount(){this.stopListen(),window.removeEventListener("message",this.receiveMessage,!1)}receiveMessage(t){if(t.origin===window.process.env.HTTP_PATH_CLIPBLOG){var e=t.data||{};if(this.state.isLoaded){if("clip-player-start"===e.name&&!this.state.isPlaying){if(this.isTrackedStartClip)return;var{amebaId:i,entryId:a,no:n,id:r}=this.props,s={entryId:a,clipId:r,sceneId:n,bloggerAmebaId:i,playheadTime:e.video.currentTime||"0",playMedia:"scene-player",duration:e.video.duration};this.props.trackStartClip(s),this.isTrackedStartClip=!0}e.video&&this.props.id===e.video.id&&this.props.no===e.video.no&&("clip-player-play"!==e.name||this.state.isPlaying||this.setState({isPlaying:!0}),"clip-player-pause"===e.name&&this.state.isPlaying&&this.setState({isPlaying:!1}))}}}handleFrameLoaded(){this.setState({isLoaded:!0})}startListen(){t.intersectionListener||(t.intersectionListener=Object(l.a)({threshold:[0,.5]})),this.stopListen(),this.element&&!this.unlisten&&(this.unlisten=t.intersectionListener.listen(this.element,t=>{t.intersectionRatio>.5?this.setState({isInview:!0}):t.isIntersecting||this.setState({isInview:!1,isLoaded:!1,isPlaying:!1})}))}stopListen(){this.unlisten&&(this.unlisten(),this.unlisten=null)}render(){return r.a.createElement("span",{className:x.a.Block,ref:t=>{this.element=t},style:{width:"".concat(this.props.width,"px"),height:"".concat(this.props.height,"px")}},Object(a.a)(y,{alt:"",className:x.a.Placeholder,height:this.props.height,id:this.props.id,no:this.props.no,width:this.props.width}),this.state.isInview&&Object(a.a)(b,{className:o()(x.a.Frame,{[x.a.Loaded]:this.state.isLoaded}),frameBorder:0,height:this.props.height,id:this.props.id,loop:this.props.loop,no:this.props.no,scrolling:"no",width:this.props.width,onLoaded:this.handleFrameLoaded}),!this.state.isPlaying&&Object(a.a)("button",{"aria-label":"\u518d\u751f\u3059\u308b",className:o()("s","s-play",x.a.PlayButton)}))}},_.displayName="PcEntryClipScene",_.intersectionListener=void 0,w=L))||w},dLnA:function(t,e,i){var a=i("Ai0b")(!1);a.push([t.i,"._10uP_Pma{display:block;font-size:0;overflow:hidden;position:relative;text-align:center}._Ssr0MUmy{left:0;position:absolute;top:0;z-index:1}._3xBXMb4n{z-index:3}._2bIcCdfm{left:0;position:absolute;top:0;z-index:2}._TifLlN_J{background:rgba(0,0,0,.5);border:none;border-radius:50%;box-sizing:border-box;color:#fff;font-size:60px;height:80px;left:50%;line-height:80px;margin:-40px 0 0 -40px;padding:0 0 0 6px;pointer-events:none;position:absolute;top:50%;width:80px;z-index:4}",""]),a.locals={Block:"_10uP_Pma",Frame:"_Ssr0MUmy",Loaded:"_3xBXMb4n",Placeholder:"_2bIcCdfm",PlayButton:"_TifLlN_J"},t.exports=a},qvLH:function(t,e,i){"use strict";i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r}));var a="reblog",n="iine",r="image_embed"},rXQT:function(t,e,i){"use strict";i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return d})),i.d(e,"b",(function(){return c}));var a=i("so/P"),n=i.n(a),r=i("xoe0"),s={part:"data-entrydesign-part",frame:{image:"data-entrydesign-frame-img"}};function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=['a[href*="stat.ameba.jp/user_images/"]'].join(","),a=t.querySelectorAll(i)||[];Array.prototype.forEach.call(a,t=>{var{amebaId:i,entryId:a,imageProtectionType:s,pageType:o}=e;if("all_deny"!==s){var d=t.href,c=(n.a.parse(d).pathname||"").split("/"),p=((c.pop()||"").match(/[o|t][0-9]{8}(?:_[0-9]{8})?([0-9]{11})(?:_s)?\.(?:jpg|gif|png)/)||[])[1];if(c[4]===i&&p){var l=o===r.a.AmemberEntry?window.process.env.HTTP_PATH_AMEMBER_PC:window.process.env.HTTP_PATH_AMEBLO,h="".concat(l,"/").concat(i,"/image-").concat(a,"-").concat(p,".html");t.classList.add("detailOn"),t.setAttribute("href",h),t.setAttribute("id","i".concat(p)),t.classList.add("userImageLink"),t.dataset.imageId=p}}else t.removeAttribute("href")})}function d(t){var e=(e,i)=>{var a=t.clientWidth,n="".concat(e.width||i.width||"").replace("px",""),r="".concat(e.height||i.height||"").replace("px","");if("100%"!==n&&n>a){var s=Number((i.marginLeft||"").replace("px",""))+Number((i.marginRight||"").replace("px","")),o=a;s&&(o-=s),e.width=o,e.height=Math.round(r*(o/n))}},i=t.querySelectorAll("img,iframe")||[];Array.prototype.forEach.call(i,t=>{var i=t.currentStyle||window.getComputedStyle(t)||{},a="".concat(t.width||i.width||"").replace("px",""),n="".concat(t.height||i.height||"").replace("px","");"0"!==a&&"0"!==n?e(t,i):t.onload=()=>e(t,i)})}function c(t,e,i){var a=[],n=t.querySelectorAll(".userImageLink")||[];return Array.prototype.forEach.call(n,t=>{var n=document.createElement("div"),r=document.createElement("span"),o=t.getElementsByTagName("img")[0],d=function(t){return t&&t.hasAttribute(s.frame.image)}(o);n.classList.add(d?i:e),r.dataset.imageId=t.dataset.imageId,o.naturalHeight?r.dataset.imageHeight=o.naturalHeight:o.addEventListener("load",()=>{r.dataset.imageHeight=o.naturalHeight||o.height}),o.naturalWidth?r.dataset.imageWidth=o.naturalWidth:o.addEventListener("load",()=>{r.dataset.imageWidth=o.naturalWidth||o.width}),t.parentNode.replaceChild(n,t),n.appendChild(t),n.appendChild(r),a.push(r)}),a}},sUqi:function(t,e,i){"use strict";function a(t){return t?function(t){var e=new RegExp('src="data:image/svg\\+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww\\.w3\\.org%2F2000%2Fsvg%22%20title%3D%22Placeholder%20for%20Images%22%20role%3D%22presentation%22%20viewBox%3D%220%200%20(\\d+)%20(\\d+)%22%20%2F%3E"',"g");return t.replace(/data-src/g,"src").replace(/data-srcset/g,"srcset").replace(e,"")}(t):""}i.d(e,"a",(function(){return a}))},x1lR:function(t,e,i){var a=i("Ai0b")(!1);a.push([t.i,'._2Vjcw7_d{position:relative}._2Vjcw7_d,._2DMjpzqJ{display:inline-block}._1-7JDBlG{background-color:rgba(0,0,0,.5);border:none;bottom:0;color:#fff;cursor:pointer;height:32px;min-width:32px;opacity:0;outline:none;padding:0;position:absolute;right:0}._1-7JDBlG:focus,._1-7JDBlG:hover,._2Vjcw7_d:hover ._1-7JDBlG,._2DMjpzqJ:hover ._1-7JDBlG{opacity:1}._1-7JDBlG:focus{box-shadow:0 0 0 2px #49c755}._3cxNgZRJ{font-size:16px;line-height:32px;margin:8px 0;width:32px}._EvaCjTTd{display:none;font-size:12px;line-height:32px;margin-right:1em;vertical-align:top}._1-7JDBlG:focus ._EvaCjTTd,._1-7JDBlG:hover ._EvaCjTTd,._EvaCjTTd:focus,._EvaCjTTd:hover{display:inline-block}._1hwD5-I0 .userImageLink,._1hwD5-I0 a[href^="https://stat.ameba.jp/user_images/"]{pointer-events:none}._1hwD5-I0 a:hover{opacity:1}.portal-embed[src*="requ.ameba.jp"]{border:1px solid #e2e2e2;border-radius:4px;box-sizing:border-box}.portal-lurking{bottom:0;height:100vh;left:0;opacity:0;position:fixed;transform:scale(.3);transition:transform .2s,opacity .2s ease-out .1s;width:100vw;z-index:-1}.portal-lurking.is-active{opacity:1;transform:scale(1);z-index:5000}#no-js ._2p0MdgbG img[data-src]{display:none}',""]),a.locals={ImageEmbedWrapper:"_2Vjcw7_d",ImageEmbedWrapper__EntryDesign:"_2DMjpzqJ",ImageEmbedButton:"_1-7JDBlG",ImageEmbedButtonIcon:"_3cxNgZRJ",ImageEmbedButtonLabel:"_EvaCjTTd",ImageProtected:"_1hwD5-I0",Block:"_2p0MdgbG"},t.exports=a},zwXI:function(t,e,i){var a=i("x1lR"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},r=Object.defineProperty||function(t,e,i){t[e]=i.value};"string"==typeof a&&(a=[[t.i,a,""]]),t.exports=function(t){var e=n({},t.locals||{});return r(e,"_",{value:function(){return t}}),r(e,"toString",{value:function(){return"function"==typeof t.toString?t.toString():""}}),e}(a)}}]);