(window._ambjs=window._ambjs||[]).push([[0],{UNgD:function(t,i,e){"use strict";e.d(i,"a",(function(){return p}));var s=e("mXGw"),n=e.n(s),r=e("xARA"),a=e.n(r),o=e("7IP4"),d=e.n(o),h=e("d7u7");class p extends n.a.PureComponent{constructor(t){super(t),this.handleClick=this.handleClick.bind(this),this.handleInview=this.handleInview.bind(this),this.startListen=this.startListen.bind(this),this.stopListen=this.stopListen.bind(this),this.inviewTracked=!1,this.tapTracked=!1}static get defaultProps(){return{activate:["tap"],algorithmId:"",bloggerAmebaId:"",categories:[],categoryId:"",subCategoryId:"",children:null,contentId:"",disable:!1,displayPosition:"",entryId:"",orderId:"",pageId:"",sectionId:"",serviceId:"",tagName:"",tapLogger:d.a,viewLogger:d.a}}componentDidMount(){this.startListen()}componentDidUpdate(){this.startListen()}componentWillUnmount(){this.stopListen()}get params(){var{algorithmId:t,bloggerAmebaId:i,categoryId:e,subCategoryId:s,contentId:n,displayPosition:r,pageId:a,entryId:o,orderId:d,sectionId:h,serviceId:p,tagName:c}=this.props;return{algorithmId:t,bloggerAmebaId:i,categories:this.props.categories.filter(t=>""!==t),categoryId:e,subCategoryId:s,contentId:n,displayPosition:r,pageId:a,entryId:o,orderId:d,sectionId:h,serviceId:p,tagName:c}}startListen(){-1===this.props.activate.indexOf("view")||this.inviewTracked||(p.intersectionListener||(p.intersectionListener=Object(h.a)({})),this.stopListen(),this.trigger=a.a.findDOMNode(this),this.trigger&&!this.unlisten&&(this.unlisten=p.intersectionListener.listen(this.trigger,t=>{(t.isIntersecting||t.intersectionRatio>0)&&(this.stopListen(),this.handleInview())})))}stopListen(){this.unlisten&&(this.unlisten(),this.unlisten=null)}handleClick(t){var i=n.a.Children.only(this.props.children).props.onClick;i&&i(t),this.props.tapLogger(this.params)}handleInview(){this.inviewTracked=!0,this.props.viewLogger(this.params)}render(){if(this.props.disable)return this.props.children;var t=this.props.children;return-1!==this.props.activate.indexOf("tap")&&(t=n.a.cloneElement(t,{onClick:this.handleClick})),t}}p.displayName="Tracker"}}]);