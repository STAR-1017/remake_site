(window._ambjs=window._ambjs||[]).push([[309],{LnJf:function(e,t,a){var r=a("geqc"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=Object.defineProperty||function(e,t,a){e[t]=a.value};"string"==typeof r&&(r=[[e.i,r,""]]),e.exports=function(e){var t=i({},e.locals||{});return n(t,"_",{value:function(){return e}}),n(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(r)},QvR5:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return H}));var r,i,n,o,c=a("5n0U"),s=a("eijD"),p=(a("W0B4"),a("mXGw")),l=a.n(p),g=a("edSL"),d=a.n(g),m=a("/gfI"),b=a.n(m),f=a("xfIn"),u=a("/m4v"),y=a("Samx"),v=a.n(y),h=a("mMAX"),I=a.n(h),_=a("8Jek"),T=a.n(_),O=a("1IY1"),j=a("zeu+"),L=a("DVRL"),w=a("A7K1"),E=a("LnJf"),D=a.n(E),P=a("tDZY"),S=a("Jfq6"),A=a("ATeS"),k=a("UNgD"),N=a("8Dlg"),M=a("xoe0");function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=parseInt(e,10);return!t||t<1?1:t}function B(){return(B=Object(s.a)((function*(e){var{dispatch:t,getState:a,match:r}=e,{params:i}=r,n=i.amebaId,o=yield t(Object(P.b)(n));if(!o||!o.error){var c=a().bloggerState,s=c.bloggerMap,p=c.blogMap[(s[n]||{}).blog];if(p&&p.blog_id){var l=i.entryId||"";if(""===l){var g=a().entryState,d=x(i.page);l=((g.pcBlogTopPageMap["".concat(p.blog_id,"/").concat(d)]||{}).data||[])[0]}l&&p.blog_id&&(yield t(Object(S.a)(l,p.blog_id)))}}}))).apply(this,arguments)}var H=Object(u.b)((function(e,t){var{match:a}=t,{params:r,route:i}=a,n=r.amebaId,o=i.pageType,c=e.bloggerState,s=e.blogRecentEntryState,p=c.bloggerMap[n]||{},l=(p.attribute||{}).isOfficial,g=c.blogMap[p.blog]||{},m=r.entryId||"";if(""===m){var b=e.entryState,f=x(r.page);m=((b.pcBlogTopPageMap["".concat(g.blog_id,"/").concat(f)]||{}).data||[])[0]}return{amebaId:n,imageProtectionType:d()(p,"official.image_protection_type")||"",isOfficial:l,pageType:o,recentlyImageEntries:(s.blogRecentEntry[m]||{}).recently_image_entry||[]}}),{trackTapLog:A.i})(r=Object(f.provideHooks)({done:function(e){return B.apply(this,arguments)}})(r=Object(O.d)(D.a)((n=i=class extends l.a.Component{shouldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.imageProtectionType!==e.imageProtectionType||this.props.isOfficial!==e.isOfficial||this.props.pageType!==e.pageType||this.props.trackTapLog!==e.trackTapLog||!b()(this.props.recentlyImageEntries,e.recentlyImageEntries)}getDateForImage(e){var t=v()(new Date,j.a.DEFAULT_DATE),a=v()(e.entry_created_datetime,j.a.DEFAULT_DATE);switch(I()(t,a)){case 0:return"\u4eca\u65e5";case 1:return"\u6628\u65e5";case 2:return"\u304a\u3068\u3068\u3044";default:return a}}renderImageList(){var e=this.props.recentlyImageEntries.slice(0,3).map((e,t)=>{var a=this.getDateForImage(e),r="amember"===e.publish_flg,i=r?Object(c.a)("img",{alt:e.entry_title,className:"articleImage",src:"".concat(window.process.env.HTTP_PATH_STAT,"/blog/img/user/thumb_amember_110.gif")}):Object(c.a)("img",{alt:e.entry_title,className:"articleImage",height:"110",src:"".concat(window.process.env.HTTP_PATH_BLOG_IMG).concat(e.image_url,"?cpd=110"),width:"110"}),n=r?"":"?frm_src=thumb_module";return Object(c.a)("li",{},"recent_image_entry_".concat(e.entry_id),Object(c.a)(k.a,{orderId:"".concat(t+1),pageId:this.props.pageType,sectionId:"image-article",serviceId:this.props.isOfficial?"official":"general",tapLogger:this.props.trackTapLog},void 0,Object(c.a)(L.a,{targetUrl:"".concat(Object(w.b)(this.props.amebaId,e)).concat(n)},void 0,i,Object(c.a)("span",{className:T()("articleImageTitle",D.a.EntryTitle)},void 0,e.entry_title))),Object(c.a)("span",{className:"articleImageDate skinWeakColor"},void 0,a))});return Object(c.a)("ul",{},void 0,e)}render(){var{recentlyImageEntries:e}=this.props;return!e||e.length<3?null:Object(c.a)("div",{className:"articleImageListArea"},void 0,o||(o=Object(c.a)("span",{className:"articleImageHeading"},void 0,"\u6700\u8fd1\u306e\u753b\u50cf\u3064\u304d\u8a18\u4e8b")),"all_deny"!==this.props.imageProtectionType&&Object(c.a)("span",{className:"articleImageListLink"},void 0,"\xa0",Object(c.a)(k.a,{pageId:this.props.pageType,sectionId:"image-article-list",serviceId:this.props.isOfficial?"official":"general",tapLogger:this.props.trackTapLog},void 0,Object(c.a)("a",{href:Object(N.a)(M.a.ImageList,{amebaId:this.props.amebaId})},void 0,"\u3082\u3063\u3068\u898b\u308b >>"))),this.renderImageList())}},i.displayName="PcRecentEntryImageListNew",r=n))||r)||r)||r},geqc:function(e,t,a){var r=a("Ai0b")(!1);r.push([e.i,"._3tcXwBW-{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""]),r.locals={EntryTitle:"_3tcXwBW-"},e.exports=r}}]);